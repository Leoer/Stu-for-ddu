!function(){var e=document.createElement("style");e.innerHTML='.z-form[data-v-c597957c]>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse));--tw-divide-opacity: 1;border-color:rgb(229 231 235 / var(--tw-divide-opacity))}.z-form[data-v-c597957c]{padding:1.5rem}.z-form[data-v-c597957c] .z-form-item-input{flex-wrap:wrap}.required[data-v-22eef9f0]:before{content:"*";color:#f56c6c;left:-4px;position:relative;top:2px}.z-form-item.is-error[data-v-22eef9f0] .el-select-v2__wrapper,.z-form-item.is-error[data-v-22eef9f0] .el-select-v2__wrapper:focus,.z-form-item.is-error[data-v-22eef9f0] .el-input__inner,.z-form-item.is-error[data-v-22eef9f0] .el-input__inner:focus,.z-form-item.is-error[data-v-22eef9f0] .el-textarea__inner,.z-form-item.is-error[data-v-22eef9f0] .el-textarea__inner:focus{--tw-border-opacity: 1;border-color:rgb(239 68 68 / var(--tw-border-opacity))}.z-form-item-tips[data-v-22eef9f0] .el-link{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}\n',document.head.appendChild(e),System.register(["./index-legacy.61ab75a6.js","./plugin-vue_export-helper-legacy.7bb61c33.js","./index-legacy.2de5676a.js"],(function(e){"use strict";var r,t,o,a,l,i,s,d,p,m,n,f,c,u,v;return{setters:[function(e){r=e.S},function(e){t=e._},function(e){o=e.r,a=e.c,l=e.a,i=e.f,s=e.p,d=e.g,p=e.o,m=e.H,n=e.n,f=e.u,c=e.t,u=e.k,v=e.a0}],execute:function(){const y={class:"z-form"},g={class:"space-y-8 divide-y divide-gray-200"},x={class:"z-form-body"},b={class:"z-form-title text-lg leading-6 font-medium text-gray-900"},w={class:"z-form-sub-title mt-2 max-w-3xl text-sm text-gray-500"},_={class:"z-form-footer"},z={class:"pt-5"},h={class:"flex justify-end"},q={name:"ZForm"};e("a",t(Object.assign(q,{props:{model:Object,rules:Object},setup(e,{expose:t}){const p=e;let m=o({}),n=o([]),f=a((()=>{const e={};return n.value.forEach((({prop:r,required:t,label:o})=>{if(t&&(e[r]=[{required:!0,message:`${o}不能为空`}]),void 0!==p.rules[r])return Array.isArray(p.rules[r])?void(e[r]=p.rules[r]):(console.warn(`prop 为 ${r} 的 FormItem 校验规则不存在或者其值不是数组`),void(e[r]=[{required:!0}]));console.debug(`prop 为 ${r} 的 FormItem 校验规则不存在, 跳过.`)})),e})),c=a((()=>n.value.reduce(((e,{prop:r})=>{let t=r.split(".");if(t.length>1){let o=p.model;for(;t.length>=1;){let e=t.shift();void 0!==o[e]&&(o=o[e])}e[r]=o}else e[r]=p.model[r];return e}),{})));return t({validate:e=>{new r(f.value).validate(c.value,(r=>{let t={};r&&r.length?r.forEach((({message:e,field:r})=>{t[r]=e})):t={},m.value=t,e(0===Object.keys(t).length)}))},formAddField:e=>{e&&(n.value=[...n.value,e])},formRemoveField:e=>{e&&(n.value=n.value.filter((({prop:r})=>r!==e.prop)))},rulesArray:a((()=>p.rules)),formError:m}),(e,r)=>(l(),i("form",y,[s("div",g,[s("div",x,[s("div",null,[s("h3",b,[d(e.$slots,"form-title",{},void 0,!0)]),s("p",w,[d(e.$slots,"form-sub-title",{},void 0,!0)])]),d(e.$slots,"default",{},void 0,!0)]),s("div",_,[s("div",z,[s("div",h,[d(e.$slots,"footer",{},void 0,!0)])])])])]))}}),[["__scopeId","data-v-c597957c"]]));const $={class:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5"},E=["for"],F={class:"mt-1 sm:mt-0 sm:col-span-2"},j={class:"empty:mt-0 mt-2 text-sm max-w-2xl text-gray-400 z-form-item-tips"},I={class:"empty:mt-0 mt-2 text-sm text-red-500"},k={__name:"ZFormItem",props:{required:Boolean,prop:String,label:String},setup(e){const t=e,y=v().proxy;let g=a((()=>{let e=b.value.rulesArray;return e?e[t.prop]:[]})),x=a((()=>{if(t.required)return!0;if(g.value)for(let e=0;e<g.value.length;e++){let r=g.value[e].required;if("boolean"==typeof r)return!0;if("function"==typeof r)return r()}return!1})),b=a((()=>{let e=y.$parent;for(;"ZForm"!==e.$options.name;)e=e.parent;return e}));a((()=>{if(!t.prop)return"";return b.value.formError[t.prop]||""}));const w=(e,r)=>{b.value[e](r)};let _=o();p((()=>{t.prop&&w("formAddField",{prop:t.prop,required:t.required,label:t.label,el:_.value})})),m((()=>{w("formRemoveField",{prop:t.prop})}));const z=e=>{let o=e.target.value,a={},l={};g.value&&(a[t.prop]=g.value,l[t.prop]=o);new r(a).validate(l,(e=>{e&&e.length?e.forEach((({message:e,field:r})=>{b.value.formError[t.prop]=e})):b.value.formError[t.prop]=""}))};return(r,o)=>(l(),i("div",{ref_key:"zFormItem",ref:_,class:n([f(b).formError[t.prop]?"is-error":"is-success","z-form-item mt-6 sm:mt-5 space-y-6 sm:space-y-5"])},[s("div",$,[e.label?(l(),i("label",{key:0,for:t.prop,class:n([f(x)?"required":"not-required","block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"])},c(e.label),11,E)):u("",!0),s("div",F,[s("div",{class:"input max-w-2xl flex rounded-md z-form-item-input",onInput:z},[d(r.$slots,"default",{},void 0,!0)],32),s("p",j,[d(r.$slots,"tips",{},void 0,!0)]),s("p",I,c(f(b).formError[t.prop]),1)])])],2))}};e("Z",t(k,[["__scopeId","data-v-22eef9f0"]]))}}}))}();
