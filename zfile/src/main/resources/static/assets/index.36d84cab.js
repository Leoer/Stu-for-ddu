var ae=Object.defineProperty,se=Object.defineProperties;var oe=Object.getOwnPropertyDescriptors;var D=Object.getOwnPropertySymbols;var re=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;var L=Math.pow,j=(n,l,r)=>l in n?ae(n,l,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[l]=r,U=(n,l)=>{for(var r in l||(l={}))re.call(l,r)&&j(n,r,l[r]);if(D)for(var r of D(l))ne.call(l,r)&&j(n,r,l[r]);return n},I=(n,l)=>se(n,oe(l));import{u as $,d as ie}from"./request.b205aa07.js";import{d as O,E as ce,r as c,c as N,H as ue,x as K,a as H,b as M,e as Z,Q as ve,R as fe,p as A,n as T,u as h,i as W,T as me,f as J,h as V,F as de,w as q,Z as F,v as he,W as pe,o as be,an as ye,g as ge,q as we,k as Se,a9 as ze}from"./index.9f622a37.js";import{b as X,u as ee,t as _e,_ as Y,A as ke,d as Ee,I as E,a0 as G,w as He}from"./base.130d3d79.js";const te=Symbol("scrollbarContextKey"),z=4,Te={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Ce=({move:n,size:l,bar:r})=>({[r.size]:l,transform:`translate${r.axis}(${n}%)`}),Be=X({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),Pe=O({__name:"thumb",props:Be,setup(n){const l=n,r="Thumb",a=ce(te),u=ee("scrollbar");a||_e(r,"can not inject scrollbar context");const v=c(),o=c(),p=c({}),s=c(!1);let g=!1,w=!1,S=ke?document.onselectstart:null;const t=N(()=>Te[l.vertical?"vertical":"horizontal"]),C=N(()=>Ce({size:l.size,move:l.move,bar:t.value})),_=N(()=>L(v.value[t.value.offset],2)/a.wrapElement[t.value.scrollSize]/l.ratio/o.value[t.value.offset]),x=i=>{var f;if(i.stopPropagation(),i.ctrlKey||[1,2].includes(i.button))return;(f=window.getSelection())==null||f.removeAllRanges(),R(i);const m=i.currentTarget;!m||(p.value[t.value.axis]=m[t.value.offset]-(i[t.value.client]-m.getBoundingClientRect()[t.value.direction]))},B=i=>{if(!o.value||!v.value||!a.wrapElement)return;const f=Math.abs(i.target.getBoundingClientRect()[t.value.direction]-i[t.value.client]),m=o.value[t.value.offset]/2,y=(f-m)*100*_.value/v.value[t.value.offset];a.wrapElement[t.value.scroll]=y*a.wrapElement[t.value.scrollSize]/100},R=i=>{i.stopImmediatePropagation(),g=!0,document.addEventListener("mousemove",P),document.addEventListener("mouseup",k),S=document.onselectstart,document.onselectstart=()=>!1},P=i=>{if(!v.value||!o.value||g===!1)return;const f=p.value[t.value.axis];if(!f)return;const m=(v.value.getBoundingClientRect()[t.value.direction]-i[t.value.client])*-1,y=o.value[t.value.offset]-f,le=(m-y)*100*_.value/v.value[t.value.offset];a.wrapElement[t.value.scroll]=le*a.wrapElement[t.value.scrollSize]/100},k=()=>{g=!1,p.value[t.value.axis]=0,document.removeEventListener("mousemove",P),document.removeEventListener("mouseup",k),d(),w&&(s.value=!1)},b=()=>{w=!1,s.value=!!l.size},e=()=>{w=!0,s.value=g};ue(()=>{d(),document.removeEventListener("mouseup",k)});const d=()=>{document.onselectstart!==S&&(document.onselectstart=S)};return $(K(a,"scrollbarElement"),"mousemove",b),$(K(a,"scrollbarElement"),"mouseleave",e),(i,f)=>(H(),M(me,{name:h(u).b("fade"),persisted:""},{default:Z(()=>[ve(A("div",{ref_key:"instance",ref:v,class:T([h(u).e("bar"),h(u).is(h(t).key)]),onMousedown:B},[A("div",{ref_key:"thumb",ref:o,class:T(h(u).e("thumb")),style:W(h(C)),onMousedown:x},null,38)],34),[[fe,i.always||s.value]])]),_:1},8,["name"]))}});var Q=Y(Pe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const Le=X({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),Ne=O({__name:"bar",props:Le,setup(n,{expose:l}){const r=n,a=c(0),u=c(0);return l({handleScroll:o=>{if(o){const p=o.offsetHeight-z,s=o.offsetWidth-z;u.value=o.scrollTop*100/p*r.ratioY,a.value=o.scrollLeft*100/s*r.ratioX}}}),(o,p)=>(H(),J(de,null,[V(Q,{move:a.value,ratio:o.ratioX,size:o.width,always:o.always},null,8,["move","ratio","size","always"]),V(Q,{move:u.value,ratio:o.ratioY,size:o.height,vertical:"",always:o.always},null,8,["move","ratio","size","always"])],64))}});var xe=Y(Ne,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const Re=X({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:Boolean,wrapStyle:{type:Ee([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20}}),$e={scroll:({scrollTop:n,scrollLeft:l})=>[n,l].every(E)},Me={name:"ElScrollbar"},Ae=O(I(U({},Me),{props:Re,emits:$e,setup(n,{expose:l,emit:r}){const a=n,u=ee("scrollbar");let v,o;const p=c(),s=c(),g=c(),w=c("0"),S=c("0"),t=c(),C=c(1),_=c(1),x=N(()=>{const e={};return a.height&&(e.height=G(a.height)),a.maxHeight&&(e.maxHeight=G(a.maxHeight)),[a.wrapStyle,e]}),B=()=>{var e;s.value&&((e=t.value)==null||e.handleScroll(s.value),r("scroll",{scrollTop:s.value.scrollTop,scrollLeft:s.value.scrollLeft}))};function R(e,d){ze(e)?s.value.scrollTo(e):E(e)&&E(d)&&s.value.scrollTo(e,d)}const P=e=>{!E(e)||(s.value.scrollTop=e)},k=e=>{!E(e)||(s.value.scrollLeft=e)},b=()=>{if(!s.value)return;const e=s.value.offsetHeight-z,d=s.value.offsetWidth-z,i=L(e,2)/s.value.scrollHeight,f=L(d,2)/s.value.scrollWidth,m=Math.max(i,a.minSize),y=Math.max(f,a.minSize);C.value=i/(e-i)/(m/(e-m)),_.value=f/(d-f)/(y/(d-y)),S.value=m+z<e?`${m}px`:"",w.value=y+z<d?`${y}px`:""};return q(()=>a.noresize,e=>{e?(v==null||v(),o==null||o()):({stop:v}=ie(g,b),o=$("resize",b))},{immediate:!0}),q(()=>[a.maxHeight,a.height],()=>{a.native||F(()=>{var e;b(),s.value&&((e=t.value)==null||e.handleScroll(s.value))})}),he(te,pe({scrollbarElement:p,wrapElement:s})),be(()=>{a.native||F(()=>b())}),ye(()=>b()),l({wrap$:s,update:b,scrollTo:R,setScrollTop:P,setScrollLeft:k,handleScroll:B}),(e,d)=>(H(),J("div",{ref_key:"scrollbar$",ref:p,class:T(h(u).b())},[A("div",{ref_key:"wrap$",ref:s,class:T([e.wrapClass,h(u).e("wrap"),{[h(u).em("wrap","hidden-default")]:!e.native}]),style:W(h(x)),onScroll:B},[(H(),M(we(e.tag),{ref_key:"resize$",ref:g,class:T([h(u).e("view"),e.viewClass]),style:W(e.viewStyle)},{default:Z(()=>[ge(e.$slots,"default")]),_:3},8,["class","style"]))],38),e.native?Se("v-if",!0):(H(),M(xe,{key:0,ref_key:"barRef",ref:t,height:S.value,width:w.value,always:e.always,"ratio-x":_.value,"ratio-y":C.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}}));var We=Y(Ae,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const je=He(We);export{je as E};
