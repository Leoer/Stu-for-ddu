!function(){var e=document.createElement("style");e.innerHTML=".zfile-login-logo[data-v-35977126]{background-image:url(/assets/admin-login.db1d73c1.svg)}.zfile-login-form[data-v-35977126]{--zfile-login-input-height: 45px}.zfile-login-form[data-v-35977126] .el-form-item--large{margin-bottom:30px}.zfile-login-form[data-v-35977126] .el-form-item--large:last-child{margin-bottom:0}.zfile-login-form[data-v-35977126] .el-input__inner{height:var(--zfile-login-input-height)}.zfile-login-form[data-v-35977126] .el-button--large{--el-button-size: var(--zfile-login-input-height);height:var(--el-button-size)}.zfile-login-form[data-v-35977126] input:-internal-autofill-selected{-webkit-text-fill-color:var(--el-input-text-color, var(--el-text-color-regular));transition:background-color 1000s ease-out .5s}\n",document.head.appendChild(e),System.register(["./index-legacy.2de5676a.js","./base-legacy.f53a0713.js","./form-item-legacy.e1f67f4b.js","./button-legacy.9af9d3a6.js","./tooltip-legacy.f5af8fcd.js","./popper-legacy.606262a9.js","./link-legacy.97a1df91.js","./image-viewer-legacy.690d8063.js","./input-legacy.1469b40d.js","./zfile-basic-legacy.f0481b2c.js","./login-legacy.d3c6da30.js","./install-legacy.991c58a2.js","./plugin-vue_export-helper-legacy.7bb61c33.js","./BadgeCheckIcon-legacy.0ba87333.js","./request-legacy.e2497089.js","./index-legacy.bb28c642.js","./index-legacy.61ab75a6.js","./isEqual-legacy.3ff08c6c.js","./focus-trap-legacy.e6bab6c4.js","./event-legacy.0bfbd831.js","./index-legacy.66af6ab6.js","./debounce-legacy.0c6126e2.js","./scroll-legacy.20579f08.js","./event-legacy.39ad8904.js"],(function(e){"use strict";var a,l,t,i,n,o,s,r,d,c,u,f,m,g,p,v,x,h,b,y,_,w,j,z,k,C,U,V,I,E,M,q,L,B,D,S;return{setters:[function(e){a=e.a,l=e.b,t=e.h,i=e.P,n=e.r,o=e.o,s=e.f,r=e.p,d=e.e,c=e.u,u=e.k,f=e.j,m=e.U,g=e.V,p=e.az,v=e.J},function(e){x=e.aL,h=e.aM,b=e.h,y=e.aN,_=e.r},function(e){w=e.E,j=e.a},function(){},function(){},function(e){z=e.E},function(e){k=e.E},function(e){C=e.E},function(){},function(e){U=e._},function(e){V=e.l,I=e.c,E=e.a,M=e.b},function(e){q=e.i},function(e){L=e._},function(e){B=e.r},function(e){D=e.E},function(e){S=e.E},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){}],execute:function(){function H(e,i){return a(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})])}const F=e=>(m("data-v-35977126"),e=e(),g(),e),J={class:"h-full min-h-screen bg-gray-100 text-gray-900 flex justify-center items-center"},N={class:"h-full lg:h-auto max-w-screen-lg bg-white shadow-xl sm:rounded-xl flex flex-1"},P=F((()=>r("div",{class:"flex-1 bg-gray-50 text-center hidden lg:flex rounded-l-xl"},[r("div",{class:"m-12 xl:m-16 w-full bg-contain bg-center bg-no-repeat zfile-login-logo"})],-1))),R={class:"w-full lg:w-1/2 xl:w-1/2 mt-10 p-6 sm:p-12"},T={class:"mt-0 flex flex-col items-center"},A={class:"text-2xl mt-0 xl:text-3xl font-extrabold box animate__animated animate__fadeInDown"},G={class:"w-full flex-1"},K=p('<div class="my-12 relative" data-v-35977126><div class="absolute inset-0 flex items-center" aria-hidden="true" data-v-35977126><div class="w-full border-t text-gray-600" data-v-35977126></div></div><div class="relative flex justify-center text-sm" data-v-35977126><span class="px-2 bg-white text-sm leading-none text-gray-600 tracking-wide font-medium" data-v-35977126>管理员登录</span></div></div>',1),O={class:"flex space-x-5 w-full"},Q=v(" 将配置文件 application.properties 中 zfile.debug 修改为 true, 重启后访问首页即可重置密码 "),W=F((()=>r("br",null,null,-1))),X=F((()=>r("a",{target:"_blank",class:"text-blue-400",href:"https://docs.zfile.vip/question#reset-pwd"},"点击可前往文档查看操作方式",-1))),Y=v("忘记密码"),Z=v("登录");e("default",L({__name:"login",setup(e){let m=i(),g=n(!1),p=n(),v=n({username:"",password:"",verifyCode:"",verifyCodeUUID:""});let L=n({username:[{required:!0,message:"账号不能为空",trigger:["change","blur"]}],password:[{required:!0,message:"密码不能为空",trigger:["change","blur"]}]});const F=()=>{p.value.validate((e=>{e?(g.value=!0,E(v.value).then((e=>{window.localStorage.setItem("zfile-token",e.data),D({message:"登录成功",type:"success",duration:1e3,onClose(){m.push("/admin")}})})).catch((()=>{g.value=!1,ae()}))):D.warning("请输入账号密码!")}))},$=n("");V().then((e=>{$.value=e.data}));const ee=n({}),ae=()=>{M().then((e=>{ee.value=e.data,v.value.verifyCodeUUID=e.data.uuid}))};return ae(),o((()=>{q().then((e=>{e.data||m.push("/install")})),I().then((e=>{e.data&&m.push("/admin")}))})),(e,i)=>{const n=S,o=w,m=C,V=k,I=z,E=_,M=j;return a(),s("div",J,[r("div",N,[P,r("div",R,[r("div",T,[r("h1",A,[r("img",{class:"w-16 cursor-pointer",onClick:i[0]||(i[0]=e=>{return a="https://github.com/zhaojun1998/zfile",void window.open(a);var a}),src:U})]),r("div",G,[K,t(M,{onSubmit:i[6]||(i[6]=f((()=>{}),["prevent"])),ref_key:"loginFormRef",ref:p,rules:c(L),model:c(v),class:"zfile-login-form",size:"large"},{default:d((()=>[t(o,{class:"box animate__animated animate__fadeInUp",prop:"username"},{default:d((()=>[t(n,{placeholder:"管理员账号","prefix-icon":c(x),modelValue:c(v).username,"onUpdate:modelValue":i[1]||(i[1]=e=>c(v).username=e),modelModifiers:{trim:!0}},null,8,["prefix-icon","modelValue"])])),_:1}),t(o,{class:"box animate__animated animate__fadeInUp",prop:"password"},{default:d((()=>[t(n,{placeholder:"管理员密码",type:"password","show-password":"","prefix-icon":c(h),modelValue:c(v).password,"onUpdate:modelValue":i[2]||(i[2]=e=>c(v).password=e),modelModifiers:{trim:!0}},null,8,["prefix-icon","modelValue"])])),_:1}),"2fa"===$.value?(a(),l(o,{key:0,class:"box animate__animated animate__fadeInUp",prop:"verifyCode"},{default:d((()=>[t(n,{placeholder:"双因素认证验证码","prefix-icon":c(b),modelValue:c(v).verifyCode,"onUpdate:modelValue":i[3]||(i[3]=e=>c(v).verifyCode=e),modelModifiers:{trim:!0}},null,8,["prefix-icon","modelValue"])])),_:1})):"image"===$.value?(a(),l(o,{key:1,class:"box animate__animated animate__fadeInUp",prop:"verifyCode"},{default:d((()=>{var e;return[r("div",O,[t(n,{class:"flex-1",placeholder:"请输入验证码","prefix-icon":c(H),modelValue:c(v).verifyCode,"onUpdate:modelValue":i[4]||(i[4]=e=>c(v).verifyCode=e),modelModifiers:{trim:!0}},null,8,["prefix-icon","modelValue"]),t(m,{src:null===(e=ee.value)||void 0===e?void 0:e.imgBase64,onClick:i[5]||(i[5]=e=>ae())},null,8,["src"])])]})),_:1})):u("",!0),t(o,{class:"box animate__animated animate__fadeInUp float-right"},{default:d((()=>[t(I,{class:"item",effect:"dark",placement:"left"},{content:d((()=>[Q,W,X])),default:d((()=>[t(V,{icon:c(y),underline:!1,class:"zfile-float-right"},{default:d((()=>[Y])),_:1},8,["icon"])])),_:1})])),_:1}),t(o,{class:"clear-right"},{default:d((()=>[t(E,{loading:c(g),class:"w-full mb-0","native-type":"submit",type:"primary",icon:c(B),onClick:F},{default:d((()=>[Z])),_:1},8,["loading","icon"])])),_:1})])),_:1},8,["rules","model"])])])])])])}}},[["__scopeId","data-v-35977126"]]))}}}))}();
